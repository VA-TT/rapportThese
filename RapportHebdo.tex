\documentclass[10pt]{beamer}
\usepackage[utf8]{inputenc}
\usepackage{tikz, pgfplots}
\pgfplotsset{compat=1.18}
\usetikzlibrary{positioning}
\usetikzlibrary{trees}
\usetikzlibrary{shapes.geometric, arrows.meta, positioning}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{hyperref} 
\usepackage{colortbl} % Required for \rowcolor
\usepackage{animate}
\usepackage[T1]{fontenc}
\usepackage{amsmath, amsfonts, amssymb}
\usepackage[french]{babel}
\usepackage[normalem]{ulem}

% Theme và màu sắc cho beamer
\usetheme{AnnArbor}
\usecolortheme{seahorse}

% Định nghĩa và thiết lập màu sắc chung
\definecolor{mydarkblue}{RGB}{0,51,102}
\setbeamercolor{structure}{fg=mydarkblue}
\setbeamercolor{frametitle}{bg=mydarkblue, fg=white}
\setbeamercolor{title}{fg=mydarkblue}
\setbeamercolor{item}{fg=mydarkblue}
\setbeamercolor{block title}{bg=mydarkblue, fg=white}
\setbeamercolor{block body}{bg=white, fg=black}
\setbeamercolor{section in toc}{fg=mydarkblue}
\setbeamercolor{subsection in toc}{fg=mydarkblue}
\setbeamercolor{caption name}{fg=mydarkblue}
\setbeamercolor{author}{fg=mydarkblue}
\setbeamercolor{date}{fg=mydarkblue}
\setbeamercolor{institute}{fg=mydarkblue}
\setbeamertemplate{caption}[numbered]
\usepackage{multirow}
\title{Rapport Hebdo}
\author{Viet Anh Quach}
\institute{3SR}
\date{\today}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}


\section{DEM}
% \begin{frame}{Changer le modèle}
%     \begin{figure}[h]
%         \centering
%         \scalebox{0.15}{\includegraphics{rentangulaire.png}}
%         \caption{Boîte rentangulaire}
%     \end{figure}
% \end{frame}


% \begin{frame}{Étude sur le nombre d'inertie}
%     \begin{table}
%         \centering
%         \begin{tabular}{|c|c|c|c|}
%             \hline
%             \textbf{Symboles}               & \textbf{Paramètres} & \textbf{Valeurs}                      & \textbf{Unité}  \\
%             \hline
%             Nombre de particules            & N                   & $15 \times 30 \times 15 = 6750$       & -               \\
%             \hline
%             Le rayon des particules         & R                   & 0.003 $\div$ 0.005                    & m               \\
%             \hline
%             Masse volumique                 & $\rho$              & 2500                                  & $\text{kg/m}^3$ \\
%             \hline
%             Raideur normale et tangentielle & $k_n$ \& $k_t$      & \textcolor{black}{$3 \times 10^6$}    & $\text{N/m}$    \\
%             \hline
%             Niveau de raideur               & $\kappa$            & >1000                                 & -               \\
%             \hline
%             Coefficient de frottement       & $\mu$               & $\mu_{iso} = 0.1, \mu_{triax} = 0.5 $ & -               \\
%             \hline
%             Coefficient d'amortissement     & $\alpha$            & 0.0                                   & -               \\
%             \hline
%         \end{tabular}
%         \caption{Valeurs gardé}
%     \end{table}
% \end{frame}


% \begin{frame}{Étude sur le nombre d'inertie}
%     \begin{columns}
%         \begin{column}{0.5\textwidth}
%             \begin{table}
%                 \centering
%                 \begin{tabular}{|c|c|c|c|}
%                     \hline
%                     % \textbf{v (m/s) \&P (kPa)} & $3 \times 10^4$ & $3 \times 10^2$                       & $3 \times 10^0$ & $3 \times 10^{-2}$ & $3 \times 10^{-4}$ \\
%                     $v $(m/s)                & $ \sigma_3 = 3 \times 10^2$ (kPa) \\
%                     \hline
%                     $4.542   \times 10^{-3}$ & I = $10^{-5}$                     \\
%                     \hline
%                     $4.542   \times 10^{-2}$ & I = $10^{-4}$                     \\
%                     \hline
%                     $4.542   \times 10^{-1}$ & I = $10^{-3}$                     \\
%                     \hline
%                     $4.542   \times 10^{0}$  & I = $10^{-2}$                     \\
%                     \hline
%                     $4.542   \times 10^{1}$  & I = $10^{-1}$                     \\
%                     \hline
%                     $4.542   \times 10^{2}$  & I = $1$                           \\
%                     \hline
%                 \end{tabular}
%                 \caption{Changer la vitesse}
%             \end{table}
%         \end{column}
%         \begin{column}{0.5\textwidth}
%             \begin{table}
%                 \centering
%                 \begin{tabular}{|c|c|c|c|}
%                     \hline
%                     % \textbf{v (m/s) \&P (kPa)} & $3 \times 10^4$ & $3 \times 10^2$                       & $3 \times 10^0$ & $3 \times 10^{-2}$ & $3 \times 10^{-4}$ \\
%                     $\sigma_{3} $(kPa) & v $ = 4.542   \times 10^{-2}$ (m/s) \\
%                     \hline
%                     $3 \times 10^4$    & I = $10^{-5}$                       \\
%                     \hline
%                     $3 \times 10^2$    & I = $10^{-4}$                       \\
%                     \hline
%                     $3 \times 10^0$    & I = $10^{-3}$                       \\
%                     \hline
%                     $3 \times 10^{-2}$ & I = $10^{-2}$                       \\
%                     \hline
%                     $3 \times 10^{-4}$ & I = $10^{-1}$                       \\
%                     \hline
%                     $3 \times 10^{-7}$ & I = $1$                             \\
%                     \hline
%                 \end{tabular}
%                 \caption{Changer la contrainte de confinement}
%             \end{table}
%         \end{column}
%     \end{columns}
% \end{frame}

% \begin{frame}{Changer la contrainte}
%     \begin{columns}
%         \begin{column}{0.5\textwidth}
%             \begin{figure}[h]
%                 \centering
%                 \scalebox{0.5}{\input{Contrainte_contrainteDeviatorique.tex}}
%                 \caption{Contrainte - Déformation DEM (changer la vitesse)}
%             \end{figure}
%         \end{column}
%         \begin{column}{0.5\textwidth}
%             \begin{table}
%                 \centering
%                 \begin{tabular}{|c|c|c|c|}
%                     \hline
%                     % \textbf{v (m/s) \&P (kPa)} & $3 \times 10^4$ & $3 \times 10^2$                       & $3 \times 10^0$ & $3 \times 10^{-2}$ & $3 \times 10^{-4}$ \\
%                     $\sigma_{3} $(kPa)      & v $ = 4.542   \times 10^{-2}$ (m/s)                  \\
%                     \hline
%                     $3 \times 10^4$         & $\kappa > 1000$                                      \\
%                     \hline
%                     $3 \times 10^2$         & I = $10^{-4}$                                        \\
%                     \hline
%                     \rowcolor{white}
%                     $3 \times 10^0$         & \multirow{2}{*}{$\tan {\varphi} \approx 90 \degres$} \\
%                     \cline{1-1}
%                     $3 \times 10^{-2}$      &                                                      \\
%                     \hline

%                     $4.542   \times 10^{1}$ & \multirow{2}{*}{IsoComp stabilise pas}               \\
%                     \cline{1-1}
%                     $4.542   \times 10^{2}$ &                                                      \\
%                     \hline
%                 \end{tabular}
%                 \caption{Changer la contrainte de confinement}
%             \end{table}
%         \end{column}
%     \end{columns}
% \end{frame}

% \begin{frame}{Changer la vitesse}
%     \begin{columns}
%         \begin{column}{0.5\textwidth}
%             \begin{figure}[h]
%                 \centering
%                 \scalebox{0.5}{\input{Vitess-contrainteDeviatorique.tex}}
%                 \caption{Contrainte - Déformation DEM (changer la vitesse)}
%             \end{figure}
%         \end{column}
%         \begin{column}{0.5\textwidth}
%             \begin{table}
%                 \centering
%                 \begin{tabular}{|c|c|c|c|}
%                     \hline
%                     % \textbf{v (m/s) \&P (kPa)} & $3 \times 10^4$ & $3 \times 10^2$                       & $3 \times 10^0$ & $3 \times 10^{-2}$ & $3 \times 10^{-4}$ \\
%                     $v $(m/s)                & $ \sigma_3 = 3 \times 10^2$ (kPa) \\
%                     \hline
%                     $4.542   \times 10^{-3}$ & I = $10^{-5}$                     \\
%                     \hline
%                     $4.542   \times 10^{-2}$ & I = $10^{-4}$                     \\
%                     \hline
%                     $4.542   \times 10^{-1}$ & I = $10^{-3}$                     \\
%                     \hline
%                     $4.542   \times 10^{0}$  & I = $10^{-2}$                     \\
%                     \hline
%                     $4.542   \times 10^{1}$  & I = $10^{-1}$                     \\
%                     \hline
%                     $4.542   \times 10^{2}$  & I = $1$                           \\
%                     \hline
%                 \end{tabular}
%                 \caption{Changer la vitesse}
%             \end{table}
%         \end{column}
%     \end{columns}
% \end{frame}

\begin{frame}{Changer la vitesse}
    \begin{columns}
        \begin{column}{0.5\textwidth}
            \begin{figure}[h]
                \centering
                \scalebox{0.5}{\input{Vitess-contrainteDeviatorique.tex}}
                \caption{Contrainte - Déformation DEM (changer la vitesse)}
            \end{figure}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{figure}[h]
                \centering
                \scalebox{0.5}{\input{PasTemps.tex}}
                \caption{Bruyant concernant pas de temps MPM (avant)}
            \end{figure}
        \end{column}
    \end{columns}
    \[
        \dot{x}(t) = \frac{x(t+\varepsilon) - x(t-\varepsilon)}{2\varepsilon}
    \]
    Problème de arrondir?
\end{frame}

% \begin{frame}{Comparer entre les formes de boite}
%     \begin{columns}
%         \begin{column}{0.5\textwidth}
%             \begin{figure}[h]
%                 \centering
%                 \scalebox{0.5}{\input{contrainteDeviatorique.tex}}
%                 \caption{Rectangulaire}
%             \end{figure}
%         \end{column}
%         \begin{column}{0.5\textwidth}
%             \begin{figure}[h]
%                 \centering
%                 \scalebox{0.5}{\input{Test.tex}}
%                 \caption{Cube (précédent)}
%             \end{figure}
%         \end{column}
%     \end{columns}
%     En compression quasi-statique, la contrainte déviatorique au pic ou à l’état critique (donc  $\mu$) ne présente aucune différence entre les deux formes.
% \end{frame}



\begin{frame}{Problème d'arrondir (Standard IEEE 754)}
    \begin{itemize}
        \item Un type flottant ne représente qu’un nombre limité de chiffres significatifs ; au-delà, la valeur devient inexacte.
        \item Manipulation délicate à cause des différences entre binaire et décimal.
        \item Les opérations mathématiques amplifient les erreurs d’arrondi (e.g: $+$ et $\times$).
    \end{itemize}
    \begin{figure}[h]
        \centering
        \scalebox{0.15}{\includegraphics{pbArrondir.png}}
        \caption{La programme}
    \end{figure}
\end{frame}






\begin{frame}{Revient chez DEM - cellule cube}
    \begin{center}
        \scalebox{0.8}{\animategraphics[autoplay,loop,width=0.7\textwidth]{3}{box}{1}{3}}
    \end{center}
\end{frame}

\begin{frame}{Problème d'arrondir (Standard IEEE 754)}
    \begin{itemize}
        \item The Art of Computer Programming, Volume II: Seminumerical Algorithms (Addison-Wesley, 1969)”
        \item Toujours contrôler la tolérance d’erreur ($\epsilon$) au lieu de compter sur la “précision absolue” de l’ordinateur.
    \end{itemize}
    \begin{figure}[h]
        \centering
        \scalebox{0.14}{\includegraphics{solutionPbArrondir.png}}
        \caption{Fonction de comparison}
    \end{figure}
\end{frame}


\begin{frame}{Code : ajouter tous les parties dynamiques}
    \begin{figure}[h]
        \centering
        \scalebox{0.5}{\input{2termsVersion.tex}}
        \caption{Courbe Contrainte ($\sigma_3 = 300kPa$)}
    \end{figure}
    \begin{itemize}
        \item $I$ dans le régime quasi-statique : normal
        \item $I > 10^{-2}$ : calcul erroné
    \end{itemize}
    $\Rightarrow$ Les résultats varient de manière très sensible avec I
\end{frame}

\begin{frame}{Comparer entre les versions du code}
    \begin{figure}[h]
        \centering
        \scalebox{0.5}{\input{Synthese.tex}}
        \caption{Courbe Contrainte ($\sigma_3 = 300kPa$)}
    \end{figure}
    \begin{itemize}
        \item 0 terme : $\ddot{s} = h^{-1} \cdot (F/m)$ $\rightarrow$ ancienne version
        \item 1 terme : $\ddot{s} = h^{-1} \cdot (F/m - 2 \dot{h} \dot{r})$ $\rightarrow$ presque inchangé
        \item 2 termes : $\ddot{s} = h^{-1} \cdot (F/m - 2 \dot{h} \dot{r} - \ddot{h} r)$ $\rightarrow$ calcul erroné
    \end{itemize}
\end{frame}

\begin{frame}{Essayer de changer la masse de la périodic}
    \begin{figure}[h]
        \centering
        \scalebox{0.5}{\input{Masse.tex}}
        \caption{Courbe Contrainte ($I = 10^{-2}$)}
    \end{figure}
    \[
        \ddot{h}_{xx} = \frac{V_{\text{cell}} \, (\sigma_{xx} - p)}{h_{xx} \, h_{\text{mass}}}
    \]
    \[
        \ddot{h}_{yy} = \frac{V_{\text{cell}} \, (\sigma_{yy} - p)}{h_{yy} \, h_{\text{mass}}}
    \]

\end{frame}

\begin{frame}{Les résultats varient de manière très sensible avec $I$}
    \begin{figure}[h]
        \centering
        \scalebox{0.5}{\input{vraiInertie.tex}}
        \caption{Recalcul $I$ exact ($\sigma_3 = 300\,\text{kPa}$, $R = 0.005\,\text{m}$)}
    \end{figure}
    \begin{columns}
        \begin{column}{0.45\textwidth}
            \begin{table}[h]
                \centering
                \begin{tabular}{c c}
                    \hline
                    $v$ & $I$                  \\
                    \hline
                    0.1 & $4.4 \times 10^{-4}$ \\
                    10  & $4.4 \times 10^{-2}$ \\
                    \hline
                \end{tabular}
                \caption{Calcul précédent approximatif}
            \end{table}
        \end{column}
        \begin{column}{0.45\textwidth}
            \begin{table}[h]
                \centering
                \begin{tabular}{c c}
                    \hline
                    $v$    & $I$       \\
                    \hline
                    0.0227 & $10^{-4}$ \\
                    2.27   & $10^{-2}$ \\
                    \hline
                \end{tabular}
                \caption{Calcul exact}
            \end{table}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Les résultats varient de manière très sensible avec $I$}
    \begin{columns}
        \begin{column}{0.5\textwidth}
            \begin{figure}[h]
                \centering
                \scalebox{0.5}{\input{veriteI0terms.tex}}
                \caption{Contrainte - Déformation DEM (changer la vitesse)}
            \end{figure}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{figure}[h]
                \centering
                \scalebox{0.5}{\input{VeriteI2terms.tex}}
                \caption{Bruyant concernant pas de temps MPM (avant)}
            \end{figure}
        \end{column}
    \end{columns}
    $I = 10^{-2}$ se marche maintenant
\end{frame}

\begin{frame}{Souci concernant demi-vélocité}
    \begin{itemize}
        \item Si $\Delta t$ est très petit et $a(t) \approx a(t+\Delta t)$, on “perd” peut-être la moitié de l'incrément de $v(t+\Delta t)$.
        \item Pour des essais triaxiaux à chargement rapide, cette différence pourrait devenir critique.
        \item Lors du calcul des contraintes avec le terme dynamique $(mv^2)$, l'erreur peut s'amplifier, possiblement proportionnellement au carré de la vitesse.
    \end{itemize}

    \textbf{Formules de référence du Verlet Velocité :}
    \[
        \text{Demi-pas vitesse: } v(t + 0.5\Delta t) = v(t) + 0.5\,\Delta t\, a(t)
    \]
    \[
        \text{Vitesse au pas entier: } v(t + \Delta t) = v(t) + 0.5\,\Delta t \,[a(t) + a(t+\Delta t)]
    \]

    \begin{figure}[h]
        \centering
        \scalebox{0.15}{\includegraphics{demiVelocite.png}}
        \caption{La programme}
    \end{figure}
\end{frame}

\begin{frame}{Hors de sujet}
    \begin{figure}[h]
        \centering
        \scalebox{0.15}{\includegraphics{Courses.png}}
        \caption{Cours de master}
    \end{figure}
    \begin{figure}[h]
        \centering
        \scalebox{0.095}{\includegraphics{DatePrvision.png}}
        \caption{Fonction de comparison}
    \end{figure}
\end{frame}

\end{document}
